(()=>{"use strict";const e={mozaika:[{id:1,long:1,cost:1999,currency:"₽",type:"соло",frost:"* Без заморозки"},{id:2,long:6,cost:9900,currency:"₽",type:"соло",frost:"* Без заморозки"},{id:3,long:9,cost:13900,currency:"₽",type:"соло",frost:"* Без заморозки"},{id:4,long:12,cost:9900,currency:"₽",type:"дневная",frost:"* 1 месяц заморозки"},{id:5,long:12,cost:19900,currency:"₽",type:"соло",frost:"* 1 месяц заморозки"}],schelkovo:[{id:1,long:1,cost:2999,currency:"₽",type:"соло",frost:"* Без заморозки"},{id:2,long:6,cost:14990,currency:"₽",type:"соло",frost:"* Без заморозки"},{id:3,long:9,cost:21990,currency:"₽",type:"соло",frost:"* Без заморозки"},{id:4,long:12,cost:14990,currency:"₽",type:"дневная",frost:"* 1 месяц заморозки"},{id:5,long:12,cost:24990,currency:"₽",type:"соло",frost:"* 1 месяц заморозки"}]},t=function(e){e.addEventListener("click",(function(t){var n=t.target,c=n.closest(".close-form"),o=n.closest(".form-content");console.log("target: ",n),(c||null==o)&&(e.style.display="none")}))};var n,c,o,l,s,r,i,d,a,u,y,f,v,m,p,g,E,k,L,h,S,q,b,x,w;w=document.querySelector(".top-menu"),window.addEventListener("scroll",(function(){pageYOffset>187&&w.clientWidth<768?(w.style.position="fixed",w.style.top="0"):(w.style.position="",w.style.top="")})),q=document.querySelector(".clubs-list"),b=q.querySelector("p"),x=q.querySelector("ul"),b.addEventListener("click",(function(e){x.style.display="block"})),document.addEventListener("click",(function(e){null!=e.target.closest(".clubs-list")||(x.style.display="none")})),function(){var e,t=document.querySelector(".gallery-slider"),n=t.querySelectorAll(".slide"),c=t.querySelector(".slider-dots"),o=(document.createElement("span"),document.createElement("a"));o.classList.add("slider-arrow"),o.classList.add("prev");var l,s=0,r=function(e,t,n){e[t].classList.remove(n)},i=function(e,t,n){e[t].classList.add(n)},d=function(){r(n,s,"slide-active"),r(e,s,"slick-active"),s++,s%=n.length,i(n,s,"slide-active"),i(e,s,"slick-active")},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;l=setInterval(d,e)};t.addEventListener("click",(function(t){t.preventDefault();var c=t.target;c.matches("button")&&(r(n,s,"slide-active"),r(e,s,"slick-active"),c.matches("#arrow-right")?s++:c.matches("#arrow-left")?s--:c.closest("li")&&e.forEach((function(e,t){e===c.closest("li")&&(s=t)})),s>=n.length&&(s=0),s<0&&(s=n.length-1),i(n,s,"slide-active"),i(e,s,"slick-active"))})),t.addEventListener("mouseover",(function(e){e.target.matches(".dot")&&clearInterval(l)})),t.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&a()})),function(){for(var o=1;o<=n.length;o++){var l=document.createElement("li"),s=document.createElement("button");l.appendChild(s),l.classList.add("dot"),1===o&&l.classList.add("slick-active"),c.appendChild(l)}e=t.querySelectorAll(".dot")}(),a(1500)}(),f=document.getElementById("card_order"),v=f.querySelector(".time"),m=f.querySelectorAll(".club"),p=document.querySelector(".price-message").querySelector("input"),g=document.getElementById("price-total"),k=function(e){"ТЕЛО2020"==p.value?g.textContent=(.7*g.textContent).toFixed(2):(g.textContent=S[0].cost,console.log('cardSelect[0]["cost"]: ',S[0].cost))},L=(E=function(e){return e.querySelector("input:checked")})(v),h=E(m[0]),S=e[h.value].filter((function(e){return e.long==L.value&&"соло"==e.type})),g.textContent=S[0].cost,k(),p.addEventListener("change",(function(){g.textContent=S[0].cost,k()})),f.addEventListener("click",(function(t){if(0==t.detail){var n=t.target;n.closest(".time")&&(L=E(v)),n.closest(".club")&&m.forEach((function(e){var t=E(e);null!=t&&(h=t)})),S=e[h.value].filter((function(e){return e.long==L.value&&"соло"==e.type})),g.textContent=S[0].cost,k()}})),u=document.querySelector(".callback-btn"),y=document.getElementById("callback_form"),u.addEventListener("click",(function(e){y.style.display="block"})),t(y),(a=document.getElementById("totop")).onclick=function(){window.scrollTo(pageXOffset,0)},window.addEventListener("scroll",(function(){a.hidden=pageYOffset<725})),d=document.querySelector(".popup-menu"),document.querySelector(".menu-button").addEventListener("click",(function(e){d.style.display="flex"})),d.addEventListener("click",(function(e){var t=e.target,n=t.closest(".close-menu-btn"),c=t.closest(".scroll");(n||c)&&(d.style.display="none")})),r=document.querySelector(".fixed-gift"),i=document.getElementById("gift"),r.addEventListener("click",(function(e){r.style.display="none",i.style.display="block"})),i.addEventListener("click",(function(e){i.style.display="none"})),l=document.querySelector(".open-popup"),s=document.getElementById("free_visit_form"),l.addEventListener("click",(function(e){s.style.display="block"})),t(s),n=document.querySelector(".main-slider").querySelectorAll(".slide"),c=0,o=function(){n[c].classList.remove("slide-active"),c++,c%=n.length,n[c].classList.add("slide-active")},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;setInterval(o,e)}(3e3)})();