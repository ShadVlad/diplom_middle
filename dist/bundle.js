(()=>{"use strict";const e={mozaika:[{id:1,long:1,cost:1999,currency:"₽",type:"соло",frost:"* Без заморозки"},{id:2,long:6,cost:9900,currency:"₽",type:"соло",frost:"* Без заморозки"},{id:3,long:9,cost:13900,currency:"₽",type:"соло",frost:"* Без заморозки"},{id:4,long:12,cost:9900,currency:"₽",type:"дневная",frost:"* 1 месяц заморозки"},{id:5,long:12,cost:19900,currency:"₽",type:"соло",frost:"* 1 месяц заморозки"}],schelkovo:[{id:1,long:1,cost:2999,currency:"₽",type:"соло",frost:"* Без заморозки"},{id:2,long:6,cost:14990,currency:"₽",type:"соло",frost:"* Без заморозки"},{id:3,long:9,cost:21990,currency:"₽",type:"соло",frost:"* Без заморозки"},{id:4,long:12,cost:14990,currency:"₽",type:"дневная",frost:"* 1 месяц заморозки"},{id:5,long:12,cost:24990,currency:"₽",type:"соло",frost:"* 1 месяц заморозки"}]},t=function(e){e.addEventListener("click",(function(t){var n=t.target,c=n.closest(".close-form"),o=n.closest(".form-content");console.log("target: ",n),(c||null==o)&&(e.style.display="none")}))};var n,c,o,l,r,i,s,d,a,u,y,f,v,m,p,g,E,k,h,L,q,S,b,x,I;I=document.querySelector(".top-menu"),window.addEventListener("scroll",(function(){pageYOffset>187&&I.clientWidth<768?(I.style.position="fixed",I.style.top="0"):(I.style.position="",I.style.top="")})),S=document.querySelector(".clubs-list"),b=S.querySelector("p"),x=S.querySelector("ul"),b.addEventListener("click",(function(e){x.style.display="block"})),document.addEventListener("click",(function(e){null!=e.target.closest(".clubs-list")||(x.style.display="none")})),function(){var e,t=document.querySelector(".gallery-slider"),n=t.querySelectorAll(".slide"),c=t.querySelector(".slider-dots"),o=(document.createElement("span"),document.createElement("a"));o.classList.add("slider-arrow"),o.classList.add("prev");var l,r=0,i=function(e,t,n){e[t].classList.remove(n)},s=function(e,t,n){e[t].classList.add(n)},d=function(){i(n,r,"slide-active"),i(e,r,"slick-active"),r++,r%=n.length,s(n,r,"slide-active"),s(e,r,"slick-active")},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;l=setInterval(d,e)};t.addEventListener("click",(function(t){t.preventDefault();var c=t.target;c.matches("button")&&(i(n,r,"slide-active"),i(e,r,"slick-active"),c.matches("#arrow-right")?r++:c.matches("#arrow-left")?r--:c.closest("li")&&e.forEach((function(e,t){e===c.closest("li")&&(r=t)})),r>=n.length&&(r=0),r<0&&(r=n.length-1),s(n,r,"slide-active"),s(e,r,"slick-active"))})),t.addEventListener("mouseover",(function(e){e.target.matches(".dot")&&clearInterval(l)})),t.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&a()})),function(){for(var o=1;o<=n.length;o++){var l=document.createElement("li"),r=document.createElement("button");l.appendChild(r),l.classList.add("dot"),1===o&&l.classList.add("slick-active"),c.appendChild(l)}e=t.querySelectorAll(".dot")}(),a(1500)}(),L=document.querySelector(".price-message").querySelector("input"),q=document.getElementById("price-total"),console.log("inputPromo: ",L),q.textContent=(.3*q.textContent).toFixed(2),L.addEventListener("change",(function(){console.log("valueChange"),"ТЕЛО2020"==L.value&&(q.textContent=(.3*q.textContent).toFixed(2))})),f=document.getElementById("card_order"),v=f.querySelector(".time"),m=f.querySelectorAll(".club"),p=document.getElementById("price-total"),E=(g=function(e){return e.querySelector("input:checked")})(v),k=g(m[0]),h=e[k.value].filter((function(e){return e.long==E.value&&"соло"==e.type})),p.textContent=h[0].cost,f.addEventListener("click",(function(t){if(0==t.detail){var n=t.target;n.closest(".time")&&(E=g(v)),n.closest(".club")&&m.forEach((function(e){var t=g(e);null!=t&&(k=t)}));var c=e[k.value].filter((function(e){return e.long==E.value&&"соло"==e.type}));p.textContent=c[0].cost}})),u=document.querySelector(".callback-btn"),y=document.getElementById("callback_form"),u.addEventListener("click",(function(e){y.style.display="block"})),t(y),(a=document.getElementById("totop")).onclick=function(){window.scrollTo(pageXOffset,0)},window.addEventListener("scroll",(function(){a.hidden=pageYOffset<725})),d=document.querySelector(".popup-menu"),document.querySelector(".menu-button").addEventListener("click",(function(e){d.style.display="flex"})),d.addEventListener("click",(function(e){var t=e.target,n=t.closest(".close-menu-btn"),c=t.closest(".scroll");(n||c)&&(d.style.display="none")})),i=document.querySelector(".fixed-gift"),s=document.getElementById("gift"),i.addEventListener("click",(function(e){i.style.display="none",s.style.display="block"})),s.addEventListener("click",(function(e){s.style.display="none"})),l=document.querySelector(".open-popup"),r=document.getElementById("free_visit_form"),l.addEventListener("click",(function(e){r.style.display="block"})),t(r),n=document.querySelector(".main-slider").querySelectorAll(".slide"),c=0,o=function(){n[c].classList.remove("slide-active"),c++,c%=n.length,n[c].classList.add("slide-active")},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;setInterval(o,e)}(3e3)})();